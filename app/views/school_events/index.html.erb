<div class="container mx-auto px-4 py-8">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold">行事予定一覧</h1>
    <%= link_to '新規行事予定', new_school_event_path, class: 'bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded' %>
  </div>

  <% if @current_events.any? %>
    <div class="mb-8">
      <h2 class="text-2xl font-semibold mb-4">現在の行事</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <% @current_events.each do |event| %>
          <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-xl font-semibold mb-2"><%= event.title %></h3>
            <p class="text-gray-600 mb-2"><%= event.description %></p>
            <div class="text-sm text-gray-500">
              <p>開始: <%= event.start_date.strftime('%Y年%m月%d日 %H:%M') %></p>
              <p>終了: <%= event.end_date.strftime('%Y年%m月%d日 %H:%M') %></p>
              <p>場所: <%= event.location %></p>
            </div>
            <div class="mt-4">
              <%= link_to '詳細', event, class: 'text-blue-500 hover:text-blue-700 mr-2' %>
              <%= link_to '編集', edit_school_event_path(event), class: 'text-green-500 hover:text-green-700 mr-2' %>
              <%= link_to '削除', event, method: :delete, data: { confirm: '本当に削除しますか？' }, class: 'text-red-500 hover:text-red-700' %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <% if @upcoming_events.any? %>
    <div>
      <h2 class="text-2xl font-semibold mb-4">今後の行事</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <% @upcoming_events.each do |event| %>
          <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-xl font-semibold mb-2"><%= event.title %></h3>
            <p class="text-gray-600 mb-2"><%= event.description %></p>
            <div class="text-sm text-gray-500">
              <p>開始: <%= event.start_date.strftime('%Y年%m月%d日 %H:%M') %></p>
              <p>終了: <%= event.end_date.strftime('%Y年%m月%d日 %H:%M') %></p>
              <p>場所: <%= event.location %></p>
            </div>
            <div class="mt-4">
              <%= link_to '詳細', event, class: 'text-blue-500 hover:text-blue-700 mr-2' %>
              <%= link_to '編集', edit_school_event_path(event), class: 'text-green-500 hover:text-green-700 mr-2' %>
              <%= link_to '削除', event, method: :delete, data: { confirm: '本当に削除しますか？' }, class: 'text-red-500 hover:text-red-700' %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
